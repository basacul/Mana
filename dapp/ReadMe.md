# Mana
Mana is a web application for the healthcare system that allows healthcare service providers, patients and insurance companies to securely exchange and manage data in the Mana ecosystem. Mana runs on top of the ethereum network and uses smart contracts to handle the logic on how data is accessed and exchanged based on the authorization given by the data owner. This application gives the patient the tools to retrieve medical data generated by healthcare service providers and manage a holistic electronic healthcare record. The patient can choose what aspects of his or her record to share, that can be withdrawn at any moment.

In addition, Mana allows users to store sensitive data outside of the ethereum network such that this data is not available in the ethereum network. A messaging service for users in the ecosystem allows to communicate with healthcare service providers, insurance companies and other patients.

The goal of Mana is to provide a secure distributed data exchange grid for the healthcare sector by minimizing the investment in new IT infrastructure and providing a tool to accelerate the digital adoption in the healthcare system. 

This application uses mongodb, express, nodejs and ethereum. MetaMask - for now - is needed as a wallet to use the features given by the ethereum network. The frontend uses html5, css3 with bootstrap v4.3.1, and finally javascript using jQuery for bootstrap, web3.js injected by MetaMask and vanilla javascript - a fancy name for plain javascript without any additional libraries.

## Structure
The web application uses ejs to display the following sites that are accessible through the navigation bar at the top starting with the logo from left to right:

* __home.ejs__: *LOGO* Site welcomes the user that is rendered only by clicking the Mana logo
* __e-record.ejs__: *E-Record* Site manages the data available through the ethereum network 
* __tools.ejs__: *Tools* Site manages the settings concerning the ethereum network
* __account.ejs__: *My Account* Site manage the account settings concerning the web application
* __messages.ejs__: *Messages* Site providing the messaging service
* __personal.ejs__: *Personal* Site manages data stored outside the ethereum network
* __contact.ejs__: *Help/Contact Us* Site with contact information and form
* __faq.ejs__: *Help/FAQ* Site with faq
* __documentation.ejs__: *Help/Documentation* Site with documentation for the web application
* __login.ejs__: *Checkout* Logs the user out and sends the user back to the login page

This web application currently in version 3.2.0 is under construction and will be live on July 31 2019 at [Openhealth.care](http://openhealth.care/). In MetaMask choose Rinkeby as network where the smart contracts are deployed and tested.

## How to use

Please make sure, that you have Node.js istalled on your system, which you can download at their site [Node.js](https://nodejs.org/en/download/). With Node.js istalled you automatically have access to the command __npm__. This web app runs and is tested on nodejs version 12.2.0.

If __git__ is not available on your system, you can download this repository as a zip file and unpack it on your system. In the *terminal*/*command line* go to ../../../Mana/dapp and run __node app.js__.  Otherwise clone the repository with git.

Check app.js to see how the web application is currently organized and the separate ejs sites, as it is still simple for now. By following this steps you can already test the application on your local machine at localhost:3000 for which you need to have the [MetaMask](https://metamask.io/) extension installed on your browser. Do not forget to set MetaMask to Rinkeby network.

```
Install node.js before running this commands
> git clone https://github.com/basacul/Mana.git
> cd Mana/dapp
> npm install
> node app.js
```